##TSB CONFIGURATION
tsb:
  tsbRestApi: 'https://primusdev.cloudshsm.com'
  tsbAccessToken: '' # for testing environments this should be set as an envvar
  # If you have mTLS connection to tsb Rest API, otherwise comment out or leave empty.
  tsbMTlsCertificate: ''
  tsbMTlsKey: ''
  apiAuthentication:
    enabled: false # http-header authentication disabled by default
    keyManagementToken: # Granting access to Key Generation, deletion - Endpoints: /v1/key/**
      - ''
    keyOperationToken: # Granting access to Cryptographic Operations like: Signing, Encrypting, Wrapping, fileEncryption, Keyblocking, KeyModification (Synchronous & Asynchronous Requests)
      - ''
    serviceToken: # Granting access to Service information
      - ''
  intervalFetchResults: 600 # in seconds, the interval in which the custom server should check for approvals
  airGapped: false # by default is false, if it is true then the TSB without HSM is enabled

##CUSTOM SERVER CONFIGURATION
custom-server:
  serviceName: 'SIGNING_SERVICE'  # to verify service from payload data signature in messages
  # to verify payload signature in messages, need to be set either certificate or public key
  fireblocksSignatureCertificate: ''
  fireblocksSignaturePublicKey: ''
  verifySignatures: false
  fireblocksAgentConfiguration:
    apiAuthorization: 'my-secret-api-key-123'  #needs to be configured in fireblocks agent


spring:
  main.banner-mode: off
  data.rest.basePath: /api
  jpa.open-in-view: false
  jackson.serialization.FAIL_ON_EMPTY_BEANS: false
  jmx.enabled: false
  h2.console.enabled: false
  devtools.add-properties: false
  flyway.enabled: false # disable autoconfiguration of flyway (to support multiple PSQL, MYSQL migrations)
  datasource:
    #url: jdbc:mysql://localhost:4406/securosys
    #username: replace-me_db-username
    #password: replace-me_db-root-password
    url: jdbc:h2:mem:testDB;DB_CLOSE_DELAY=-1;MODE=MYSQL;NON_KEYWORDS=value
    username: fireblocks
    password:
    hikari.maxLifetime: ${spring.datasource.hikari.maxLifetime:180000}
    maximum-pool-size: ${spring.datasource.maximumPoolSize:10}
    pool-name: ${spring.datasource.poolName:HikariPool}

  h2:
    console:
      enabled: true


server:
  forward-headers-strategy: framework
